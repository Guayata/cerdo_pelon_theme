<div class="block-section block-list " data-section-id="{{ section.id }}" 
     data-section-type="productlists" {%- if section.settings.custom_space != blank -%} style="{{ section.settings.custom_space }};background-color: {{section.settings.bg_section }}" {%- endif -%}>
  <div class="block_content {{set-box}} ">
    <div class="productlists-wrapper">
    {%- if section.settings.title != blank -%}
     {% include 'style_header' %}
      <div class="section-header text-center {{ title_style }} {{ size_title }}">
        <h2><span>{{ section.settings.title }}</span></h2>
      </div>
    {%- endif -%}
      {%- assign collection_produclists = collections[section.settings.collection].products -%}
      {%- if settings.apollo_count_down_enable and settings.apollo_count_down_collections -%}
      {%- assign dealTime = settings.home_productdeal_time | split: ' ' | join: ' ' | split: ' ' -%}
      {%- else -%}
      {%- assign dealTime = false -%}
      {%- endif-%}
      {%- assign enable_dot = section.settings.enable_dot  -%}
      {%- assign enable_nav = section.settings.enable_nav  -%}
      {%- assign columns_product = section.settings.home_productlists_columntab | plus:0 -%}
      {%- assign slidesToScroll = section.settings.home_productlists_toscroll | plus:0 -%}
      {%- assign item_laptop = section.settings.home_productlists_toscroll_laptop | plus:0 -%}
      {%- assign item_table = section.settings.home_productlists_toscroll_table | plus:0 -%}
      {%- assign item_phone = section.settings.home_productlists_toscroll_phone | plus:0 -%}
      {%- assign item_phone_min = section.settings.home_productlists_toscroll_phone_min | plus:0 -%}
      {%- assign product_in_tab = section.settings.home_productlists_limit | plus:0 -%}
      {%- assign product_interval = section.settings.home_productlists_interval | plus:0 -%}
      {%- assign type_block = section.settings.home_productlists_type -%}
      {%- assign id_productlist = section.id -%}
      {%- assign proLazyLoad = section.settings.home_producttabs_lazy -%}
      {%- assign row_slick = section.settings.home_row_slick | plus:0 -%}
     
        {% include 'Featuredproductlist' with id_productlist %}
 
      {%- if section.settings.btn_link_all != blank -%}
      <div class="btn-tabs text-center">
        <a class="btn btn-outline" href="{{collections[section.settings.collection].url}}">{{section.settings.btn_link_all}}</a>
      </div>
      {%- endif -%}
    </div>
  </div>
</div>
{% schema %}
{
"name": "Collection Product List",
"class": "index-section",
"settings": [
{
"type": "header",
"content": "Product List"
},
{
        "type": "text",
        "id": "title",
        "label": "Title"
      },	  
      {
        "type": "text",
        "id": "home_productlists_limit",
        "label": "Limit",
        "default": "8"
      },
      {
        "type": "collection",
        "id": "collection",
        "label": "Collection Product List"
      },
      {
        "type": "text",
        "id": "btn_link_all",
        "label": "Button Link Name"
      }
  ],
  "presets": [
    {
    "name": "Collection Product List",
    "category": "Collection"
    }
  ]
}
{% endschema %}
<script>
  var min = 0;
  var max = {{ section.settings.home_productlists_limit }} - 1;
  console.log(max)
  var randomNumber = Math.floor(Math.random() * (max - min + 1)) + min;
  console.log(randomNumber);
  $('ul .content-product-banner').eq(randomNumber).css('display', 'block');
</script>